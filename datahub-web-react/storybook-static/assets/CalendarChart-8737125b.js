import{j as m}from"./jsx-runtime-f961835c.js";import{R as ae,r as g,c as G,g as F}from"./index-f80c8c95.js";import{s as V}from"./styled-components.browser.esm-f891f5b9.js";import{c as re}from"./index-495e5f6b.js";import{D as ne,c as se,r as oe,a as ie}from"./Popover-024376aa.js";import{d as D}from"./dayjs.min-b50de240.js";import{c as le}from"./index-9b4c0917.js";var ue=["className","innerRef"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},A.apply(this,arguments)}function de(e,s){if(e==null)return{};var t={},a=Object.keys(e),i,p;for(p=0;p<a.length;p++)i=a[p],!(s.indexOf(i)>=0)&&(t[i]=e[i]);return t}function ce(e){var s=e.className,t=e.innerRef,a=de(e,ue);return ae.createElement("rect",A({ref:t,className:re("visx-bar",s)},a))}const L=V.div`
    width: 100%;
    height: 100%;
    position: relative;
`,T=V.div`
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: left;
    overflow-x: auto;
`,N=V.div`
    width: ${e=>e.$width};
`,j=V(ce)`
    cursor: pointer;

    ${e=>e.$addTransparency&&"filter: opacity(0.3);"}

    :hover {
        filter: drop-shadow(0px 0px 4px rgba(0 0 0 / 0.25)) brightness(90%);
    }
`;try{L.displayName="ChartWrapper",L.__docgenInfo={description:"",displayName:"ChartWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{T.displayName="CalendarWrapper",T.__docgenInfo={description:"",displayName:"CalendarWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{N.displayName="CalendarInnerWrapper",N.__docgenInfo={description:"",displayName:"CalendarInnerWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},$width:{defaultValue:null,description:"",name:"$width",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{j.displayName="StyledBar",j.__docgenInfo={description:"",displayName:"StyledBar",props:{className:{defaultValue:null,description:"className to apply to rect element.",name:"className",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGRectElement | null) => void) | RefObject<SVGRectElement> | null"}},innerRef:{defaultValue:null,description:"reference to rect element.",name:"innerRef",required:!1,type:{name:"Ref<SVGRectElement>"}},$addTransparency:{defaultValue:null,description:"",name:"$addTransparency",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}const $=({text:e,...s})=>m.jsx("text",{...s,children:m.jsx("tspan",{children:e})});try{$.displayName="TickLabel",$.__docgenInfo={description:"",displayName:"TickLabel",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}const w=7,fe=4,pe=16,me=4,Z=g.createContext(null);function q({children:e,data:s,width:t,height:a,margin:i,showPopover:p,popoverRenderer:f,colorAccessor:r,selectedDay:o,onDayClick:c}){const l=g.useMemo(()=>({top:(i?.top??0)+10,right:(i?.right??0)+0,bottom:(i?.bottom??0)+40,left:(i?.left??0)+50}),[i]),u=g.useMemo(()=>t-l.right-l.left,[t,l]),d=g.useMemo(()=>a-l.top-l.bottom,[a,l]),h=g.useMemo(()=>s.reduce((_,v)=>_+v.weeks.length,0),[s]),x=g.useMemo(()=>s.length,[s.length]),n=me,y=g.useMemo(()=>{const _=Math.floor((u-n*Math.floor(h)-n*Math.floor(x))/Math.floor(h)),v=Math.floor((d-n*w)/w);return Math.max(Math.min(_,v),pe)},[n,h,x,d,u]);return m.jsx(Z.Provider,{value:{data:s,parentWidth:t,parentHeight:a,squareSize:y,squareGap:n,countOfWeeks:h,countOfMonths:x,colorAccessor:r,showPopover:p,popoverRenderer:f,margin:l,selectedDay:o,onDayClick:c},children:e})}function M(){const e=g.useContext(Z);if(e===null)throw new Error(`${M.name} must be used under a ${q.name}`);return e}try{q.displayName="CalendarProvider",q.__docgenInfo={description:"",displayName:"CalendarProvider",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"MonthData<ValueType>[]"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Margin"}},showPopover:{defaultValue:null,description:"",name:"showPopover",required:!1,type:{name:"boolean"}},popoverRenderer:{defaultValue:null,description:"",name:"popoverRenderer",required:!1,type:{name:"((day: DayData<ValueType>) => ReactNode)"}},colorAccessor:{defaultValue:null,description:"",name:"colorAccessor",required:!0,type:{name:"(value?: ValueType | undefined) => string"}},selectedDay:{defaultValue:null,description:"",name:"selectedDay",required:!1,type:{name:"string | null"}},onDayClick:{defaultValue:null,description:"",name:"onDayClick",required:!1,type:{name:"((day: DayData<ValueType>) => void)"}}}}}catch{}function P({labelProps:e}){const{squareSize:s,squareGap:t,margin:a,data:i}=M(),p=i.map(r=>r.weeks.length),f=25;return m.jsx(m.Fragment,{children:i.map((r,o)=>{if(o===0&&r.weeks.length===1)return null;const c=p.slice(0,o).reduce((d,h)=>d+h,0),l=w*(s+t)+a.top+f,u=c*(s+t)+t*o+a.left;return m.jsx($,{text:r.label,x:u,y:l,...e},`axis-bottom-${r.key}`)})})}try{P.displayName="AxisBottomMonths",P.__docgenInfo={description:"",displayName:"AxisBottomMonths",props:{labelProps:{defaultValue:null,description:"",name:"labelProps",required:!1,type:{name:"LabelProps"}}}}}catch{}const he=["Mon","Tue","Wed","Thur","Fri","Sat","Sun"];function S({labelProps:e,showLeftAxisLine:s}){const{margin:t,squareSize:a,squareGap:i}=M(),p=5,f=4,r=a+i,o=Math.floor(a/2)+i,c=t.left-f,l=r*w+t.top+p,u=(d,h)=>{const n=t.left-12,y=r*d+o+t.top;return m.jsx($,{text:h,x:n,y,...e??{}},`axis-left-${d}`)};return m.jsxs(m.Fragment,{children:[he.map((d,h)=>u(h,d)),s&&m.jsx("line",{x1:c,x2:c,y1:0,y2:l,stroke:"#EBECF0",width:1})]})}try{S.displayName="AxisLeftWeekdays",S.__docgenInfo={description:"",displayName:"AxisLeftWeekdays",props:{labelProps:{defaultValue:null,description:"",name:"labelProps",required:!1,type:{name:"LabelProps"}},showLeftAxisLine:{defaultValue:null,description:"",name:"showLeftAxisLine",required:!1,type:{name:"boolean"}}}}}catch{}function E({day:e,weekOffset:s,dayIndex:t}){const{squareSize:a,squareGap:i,margin:p,colorAccessor:f,showPopover:r,popoverRenderer:o,selectedDay:c,onDayClick:l}=M(),u=g.useMemo(()=>f(e.value),[f,e.value]),d=g.useMemo(()=>(i+a)*t+p.top,[i,a,t,p]),h=()=>m.jsx(j,{x:s,y:d,width:a,height:a,rx:4,fill:u,onPointerUp:()=>l?.(e),$addTransparency:!!c&&c!==e.day});return r?m.jsx(ne,{placement:"topLeft",content:o?.(e),children:h()}):h()}try{E.displayName="Day",E.__docgenInfo={description:"",displayName:"Day",props:{day:{defaultValue:null,description:"",name:"day",required:!0,type:{name:"DayData<ValueType>"}},weekOffset:{defaultValue:null,description:"",name:"weekOffset",required:!0,type:{name:"number"}},dayIndex:{defaultValue:null,description:"",name:"dayIndex",required:!0,type:{name:"number"}}}}}catch{}function Y({week:e,weekNumber:s,monthOffset:t}){const{squareSize:a,squareGap:i,margin:p}=M(),f=g.useMemo(()=>{const r=s*(i+a);return t+r+p.left},[i,a,t,s,p.left]);return m.jsx(m.Fragment,{children:e.days.map((r,o)=>m.jsx(E,{day:r,weekOffset:f,dayIndex:o},r.key))})}try{Y.displayName="Week",Y.__docgenInfo={description:"",displayName:"Week",props:{week:{defaultValue:null,description:"",name:"week",required:!0,type:{name:"WeekData<ValueType>"}},weekNumber:{defaultValue:null,description:"",name:"weekNumber",required:!0,type:{name:"number"}},monthOffset:{defaultValue:null,description:"",name:"monthOffset",required:!0,type:{name:"number"}}}}}catch{}function H({month:e,monthIndex:s}){const{squareGap:t,data:a}=M(),i=g.useMemo(()=>t*s,[t,s]),p=g.useMemo(()=>a.slice(0,s).reduce((f,r)=>f+r.weeks.length,0),[a,s]);return m.jsx(m.Fragment,{children:e.weeks.map((f,r)=>m.jsx(Y,{week:f,monthOffset:i,weekNumber:p+r},f.key))})}try{H.displayName="Month",H.__docgenInfo={description:"",displayName:"Month",props:{month:{defaultValue:null,description:"",name:"month",required:!0,type:{name:"MonthData<ValueType>"}},monthIndex:{defaultValue:null,description:"",name:"monthIndex",required:!0,type:{name:"number"}}}}}catch{}function I({data:e}){return m.jsx(m.Fragment,{children:e.map((s,t)=>m.jsx(H,{month:s,monthIndex:t},s.key))})}try{I.displayName="Calendar",I.__docgenInfo={description:"",displayName:"Calendar",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"MonthData<ValueType>[]"}}}}}catch{}function R({children:e}){const{squareSize:s,squareGap:t,margin:a,parentHeight:i,countOfWeeks:p,countOfMonths:f}=M(),r=g.useMemo(()=>Math.min((s+t)*w+a.top+a.bottom,i),[s,t,a.top,a.bottom,i]),o=g.useMemo(()=>(s+t)*p+t*f+a.left+a.right,[s,t,p,f,a.left,a.right]);return m.jsx(T,{children:m.jsx(N,{$width:`${o}px`,children:m.jsx("svg",{width:o,height:r,children:e})})})}try{R.displayName="CalendarContainer",R.__docgenInfo={description:"",displayName:"CalendarContainer",props:{}}}catch{}var Q={exports:{}};(function(e,s){(function(t,a){e.exports=a()})(G,function(){return function(t,a){var i=a.prototype,p=i.format;i.format=function(f){var r=this,o=this.$locale();if(!this.isValid())return p.bind(this)(f);var c=this.$utils(),l=(f||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return o.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return o.ordinal(r.week(),"W");case"w":case"ww":return c.s(r.week(),u==="w"?1:2,"0");case"W":case"WW":return c.s(r.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return c.s(String(r.$H===0?24:r.$H),u==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return u}});return p.bind(this)(l)}}})})(Q);var ye=Q.exports;const ge=F(ye);var J={exports:{}};(function(e,s){(function(t,a){e.exports=a()})(G,function(){var t="day";return function(a,i,p){var f=function(c){return c.add(4-c.isoWeekday(),t)},r=i.prototype;r.isoWeekYear=function(){return f(this).year()},r.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),t);var l,u,d,h,x=f(this),n=(l=this.isoWeekYear(),u=this.$u,d=(u?p.utc:p)().year(l).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,t));return x.diff(n,"week")+1},r.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var o=r.startOf;r.startOf=function(c,l){var u=this.$utils(),d=!!u.u(l)||l;return u.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(c,l)}}})})(J);var _e=J.exports;const xe=F(_e);var ee={exports:{}};(function(e,s){(function(t,a){e.exports=a()})(G,function(){var t="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(p,f,r){var o=f.prototype;r.utc=function(n){var y={date:n,utc:!0,args:arguments};return new f(y)},o.utc=function(n){var y=r(this.toDate(),{locale:this.$L,utc:!0});return n?y.add(this.utcOffset(),t):y},o.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var c=o.parse;o.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),c.call(this,n)};var l=o.init;o.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else l.call(this)};var u=o.utcOffset;o.utcOffset=function(n,y){var _=this.$utils().u;if(_(n))return this.$u?0:_(this.$offset)?u.call(this):this.$offset;if(typeof n=="string"&&(n=function(W){W===void 0&&(W="");var U=W.match(a);if(!U)return null;var C=(""+U[0]).match(i)||["-",0,0],te=C[0],O=60*+C[1]+ +C[2];return O===0?0:te==="+"?O:-O}(n),n===null))return this;var v=Math.abs(n)<=16?60*n:n,k=this;if(y)return k.$offset=v,k.$u=n===0,k;if(n!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(k=this.local().add(v+B,t)).$offset=v,k.$x.$localOffset=B}else k=this.utc();return k};var d=o.format;o.format=function(n){var y=n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,y)},o.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*n},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var h=o.toDate;o.toDate=function(n){return n==="s"&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var x=o.diff;o.diff=function(n,y,_){if(n&&this.$u===n.$u)return x.call(this,n,y,_);var v=this.local(),k=r(n).local();return x.call(v,k,y,_)}}})})(ee);var ve=ee.exports;const ke=F(ve),z="YYYY-MM-DD";D.extend(xe);D.extend(ke);D.extend(ge);function De(e,s,t,a="MMM â€™YY"){const i=D(s).utc(!0).startOf("isoWeek").startOf("day"),p=D(t).utc(!0).endOf("isoWeek").startOf("day"),f=(d,h)=>({day:d.format(z),key:d.format(z),value:h}),r=(d,h)=>({days:h??[],key:d.format("YYYY-MM-WW")}),o=(d,h)=>({weeks:h??[],key:d.format("YYYY-MM"),label:d.format(a)}),c=[];let l=o(i.endOf("isoWeek")),u=r(i);for(let d=D(i);!d.isAfter(p);d=d.add(1,"day")){const h=e.filter(n=>D(n.day).utc(!0).isSame(d,"date"))?.[0]?.value,x=f(d,h);if(u===null&&(u=r(d)),u.days.push(x),d.isoWeekday()===w){const n=d.startOf("isoWeek"),y=d,_=d.add(1,"day");n.month()!==y.month()?n.endOf("month").isoWeekday()>=fe?(l.weeks.push(u),c.push(l),u=null,l=o(_)):(l.weeks.length&&c.push(l),l=o(_,[u]),u=null):_.month()!==y.month()?(l.weeks.push(u),c.push(l),u=null,l=o(_)):(l.weeks.push(u),u=null),y.isSame(p)&&(u&&l&&l.weeks.push(u),l.weeks.length&&c.push(l))}}return c}function Me(e,s,t,a=0){if(Object.keys(s).length===0)return()=>t;const i=Object.entries(s).reduce((f,[r,o])=>({...f,[r]:se({domain:[0,Math.max(...e.map(c=>o.valueAccessor(c.value)),a)],range:[0,1],clamp:!0})}),{}),p=Object.entries(s).reduce((f,[r,o])=>({...f,[r]:oe(o.colors)}),{});return function(f){if(f===void 0)return t;const[r,o]=Object.entries(s).map(([l,u])=>[l,u.valueAccessor(f)]).reduce((l,u)=>u[1]>l[1]?u:l);if(o<=0)return t;const c=i[r](o);return p[r](c)}}function be(e,s="2024-11-30",t=3e3,a=0){return Array(e).fill(0).map((i,p)=>({day:D(s).startOf("day").add(p-e+1,"days").format(z),value:{inserts:Math.max(Math.random()*t,a),updates:Math.max(Math.random()*t,a),deletes:Math.max(Math.random()*t,a)}}))}function Ae(e="2024-01-01",s="2024-12-31"){const t=be(150,"2024-11-30"),a=Me(t,{insertsAndUpdates:{valueAccessor:i=>i.inserts+i.updates,colors:["#CAC3F1","#705EE4","#3E2F9D"]},deletes:{valueAccessor:i=>i.deletes,colors:["#f1c3ca","#CF6D6D","#ab4242"]}},"#EBECF0");return{data:t,startDate:e,endDate:s,colorAccessor:a}}const K={fill:le.gray[1700],fontFamily:"Mulish",fontSize:10},b={data:[],leftAxisLabelProps:{...K,textAnchor:"end"},showLeftAxisLine:!1,bottomAxisLabelProps:{...K,textAnchor:"start"},maxHeight:350,showPopover:!0};function X({data:e=b.data,startDate:s,endDate:t,colorAccessor:a,showPopover:i=b.showPopover,popoverRenderer:p,leftAxisLabelProps:f=b.leftAxisLabelProps,showLeftAxisLine:r=b.showLeftAxisLine,bottomAxisLabelProps:o=b.bottomAxisLabelProps,margin:c,maxHeight:l=b.maxHeight,selectedDay:u,onDayClick:d}){const h=g.useMemo(()=>De(e,s,t),[e,s,t]);return m.jsx(L,{children:m.jsx(ie,{children:({width:x,height:n})=>m.jsx(q,{data:h,width:x,height:l??n,margin:c,colorAccessor:a,showPopover:i,popoverRenderer:p,selectedDay:u,onDayClick:d,children:m.jsxs(R,{children:[m.jsx(S,{labelProps:f,showLeftAxisLine:r}),m.jsx(P,{labelProps:o}),m.jsx(I,{data:h})]})})})})}try{X.displayName="CalendarChart",X.__docgenInfo={description:"",displayName:"CalendarChart",props:{data:{defaultValue:{value:"calendarChartDefault.data"},description:"",name:"data",required:!1,type:{name:"CalendarData<ValueType>[]"}},startDate:{defaultValue:null,description:"",name:"startDate",required:!0,type:{name:"string | Date"}},endDate:{defaultValue:null,description:"",name:"endDate",required:!0,type:{name:"string | Date"}},colorAccessor:{defaultValue:null,description:"",name:"colorAccessor",required:!0,type:{name:"(value: any) => string"}},showPopover:{defaultValue:{value:"calendarChartDefault.showPopover"},description:"",name:"showPopover",required:!1,type:{name:"boolean"}},popoverRenderer:{defaultValue:null,description:"",name:"popoverRenderer",required:!1,type:{name:"((day: DayData<ValueType>) => ReactNode)"}},leftAxisLabelProps:{defaultValue:{value:"calendarChartDefault.leftAxisLabelProps"},description:"",name:"leftAxisLabelProps",required:!1,type:{name:"LabelProps"}},showLeftAxisLine:{defaultValue:{value:"calendarChartDefault.showLeftAxisLine"},description:"",name:"showLeftAxisLine",required:!1,type:{name:"boolean"}},bottomAxisLabelProps:{defaultValue:{value:"calendarChartDefault.bottomAxisLabelProps"},description:"",name:"bottomAxisLabelProps",required:!1,type:{name:"LabelProps"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Margin"}},maxHeight:{defaultValue:{value:"calendarChartDefault.maxHeight"},description:"",name:"maxHeight",required:!1,type:{name:"number"}},selectedDay:{defaultValue:null,description:"",name:"selectedDay",required:!1,type:{name:"string | null"}},onDayClick:{defaultValue:null,description:"",name:"onDayClick",required:!1,type:{name:"((day: DayData<ValueType>) => void)"}}}}}catch{}export{X as C,Ae as g};
