import{j as l}from"./jsx-runtime-f961835c.js";import{R as T,r as R}from"./index-f80c8c95.js";import{s as fe}from"./styled-components.browser.esm-f891f5b9.js";import{P as s,D as Se,a as Ve,c as Re}from"./Popover-024376aa.js";import{T as se}from"./Text-6fe683eb.js";import{g as Ne,c as _e,P as ue,G as qe,_ as Ce,L as de,A as $e}from"./Axis-806b9145.js";import{B as pe}from"./BarRounded-86230f55.js";import{c as w}from"./index-9b4c0917.js";import{c as Z}from"./index-495e5f6b.js";function Be(e){return"bandwidth"in e?e.bandwidth():0}var De=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function G(){return G=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},G.apply(this,arguments)}function Fe(e,r){if(e==null)return{};var i={},t=Object.keys(e),o,a;for(a=0;a<t.length;a++)o=t[a],!(r.indexOf(o)>=0)&&(i[o]=e[o]);return i}function xe(e){var r=e.top,i=r===void 0?0:r,t=e.left,o=t===void 0?0:t,a=e.scale,d=e.height,m=e.stroke,h=m===void 0?"#eaf0f6":m,L=e.strokeWidth,y=L===void 0?1:L,v=e.strokeDasharray,b=e.className,k=e.numTicks,W=k===void 0?10:k,f=e.lineStyle,x=e.offset,P=e.tickValues,S=e.children,g=Fe(e,De),O=P??Ne(a,W),c=(x??0)+Be(a)/2,j=O.map(function(u,M){var V,C=((V=_e(a(u)))!=null?V:0)+c;return{index:M,from:new ue({x:C,y:0}),to:new ue({x:C,y:d})}});return T.createElement(qe,{className:Z("visx-columns",b),top:i,left:o},S?S({lines:j}):j.map(function(u){var M=u.from,V=u.to,C=u.index;return T.createElement(Ce,G({key:"column-line-"+C,from:M,to:V,stroke:h,strokeWidth:y,strokeDasharray:v,style:f},g))}))}xe.propTypes={tickValues:s.array,height:s.number.isRequired};var Qe=["top","left","transform","className","children","innerRef"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},U.apply(this,arguments)}function Ie(e,r){if(e==null)return{};var i={},t=Object.keys(e),o,a;for(a=0;a<t.length;a++)o=t[a],!(r.indexOf(o)>=0)&&(i[o]=e[o]);return i}function he(e){var r=e.top,i=r===void 0?0:r,t=e.left,o=t===void 0?0:t,a=e.transform,d=e.className,m=e.children,h=e.innerRef,L=Ie(e,Qe);return T.createElement("g",U({ref:h,className:Z("visx-group",d),transform:a||"translate("+o+", "+i+")"},L),m)}he.propTypes={top:s.number,left:s.number,transform:s.string,className:s.string,children:s.node,innerRef:s.oneOfType([s.string,s.func,s.object])};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},N.apply(this,arguments)}function _(e){var r=e.x1,i=e.x2,t=e.y1,o=e.y2;return{x1:t,x2:o,y1:r,y2:i}}function ye(e){var r=e.left,i=r===void 0?0:r,t=e.top,o=t===void 0?0:t,a=e.className,d=e.max,m=e.min,h=e.firstQuartile,L=e.thirdQuartile,y=e.median,v=e.boxWidth,b=v===void 0?10:v,k=e.fill,W=e.fillOpacity,f=e.stroke,x=e.strokeWidth,P=e.rx,S=P===void 0?2:P,g=e.ry,O=g===void 0?2:g,c=e.valueScale,j=e.outliers,u=j===void 0?[]:j,M=e.horizontal,V=e.medianProps,C=V===void 0?{}:V,J=e.maxProps,ke=J===void 0?{}:J,ee=e.minProps,Te=ee===void 0?{}:ee,te=e.boxProps,We=te===void 0?{}:te,re=e.outlierProps,Oe=re===void 0?{}:re,ie=e.container,je=ie===void 0?!1:ie,ne=e.containerProps,Pe=ne===void 0?{}:ne,oe=e.children,$=M?o:i,E=$+(b||0)/2,B=c.range(),Q=c(m??0),I=c(h??0),ae=c(y??0),A=c(L??0),H=c(d??0),n={valueRange:B,center:E,offset:$,boxWidth:b,max:{x1:E-(b||0)/4,x2:E+(b||0)/4,y1:H,y2:H},maxToThird:{x1:E,x2:E,y1:H,y2:A},median:{x1:$,x2:$+(b||0),y1:ae,y2:ae},minToFirst:{x1:E,x2:E,y1:I,y2:Q},min:{x1:E-(b||0)/4,x2:E+(b||0)/4,y1:Q,y2:Q},box:{x1:$,x2:b||0,y1:A,y2:Math.abs(A-I)},container:{x1:$,x2:b||0,y1:Math.min.apply(Math,B),y2:Math.abs(B[0]-B[1])}};return M&&(n.max=_(n.max),n.maxToThird=_(n.maxToThird),n.box.y1=I,n.box=_(n.box),n.median=_(n.median),n.minToFirst=_(n.minToFirst),n.min=_(n.min),n.container=_(n.container),n.container.y1=Math.min.apply(Math,B)),oe?T.createElement(T.Fragment,null,oe(n)):T.createElement(he,{className:Z("visx-boxplot",a)},u.map(function(le,Me){var Le=M?c(le):E,Ee=M?E:c(le);return T.createElement("circle",N({key:"visx-boxplot-outlier-"+Me,className:"visx-boxplot-outlier",cx:Le,cy:Ee,r:4,stroke:f,strokeWidth:x,fill:k,fillOpacity:W},Oe))}),T.createElement("line",N({className:"visx-boxplot-max",x1:n.max.x1,y1:n.max.y1,x2:n.max.x2,y2:n.max.y2,stroke:f,strokeWidth:x},ke)),T.createElement("line",{className:"visx-boxplot-max-to-third",x1:n.maxToThird.x1,y1:n.maxToThird.y1,x2:n.maxToThird.x2,y2:n.maxToThird.y2,stroke:f,strokeWidth:x}),T.createElement("rect",N({className:"visx-boxplot-box",x:n.box.x1,y:n.box.y1,width:n.box.x2,height:n.box.y2,stroke:f,strokeWidth:x,fill:k,fillOpacity:W,rx:S,ry:O},We)),T.createElement("line",N({className:"visx-boxplot-median",x1:n.median.x1,y1:n.median.y1,x2:n.median.x2,y2:n.median.y2,stroke:f,strokeWidth:x},C)),T.createElement("line",{className:"visx-boxplot-min-to-first",x1:n.minToFirst.x1,y1:n.minToFirst.y1,x2:n.minToFirst.x2,y2:n.minToFirst.y2,stroke:f,strokeWidth:x}),T.createElement("line",N({className:"visx-boxplot-min",x1:n.min.x1,y1:n.min.y1,x2:n.min.x2,y2:n.min.y2,stroke:f,strokeWidth:x},Te)),je&&T.createElement("rect",N({x:n.container.x1,y:n.container.y1,width:n.container.x2,height:n.container.y2,fillOpacity:"0"},Pe)))}ye.propTypes={max:s.number,min:s.number,firstQuartile:s.number,thirdQuartile:s.number,median:s.number,boxWidth:s.number,fill:s.string,fillOpacity:s.oneOfType([s.number,s.string]),stroke:s.string,strokeWidth:s.oneOfType([s.number,s.string]),rx:s.number,ry:s.number,outliers:s.arrayOf(s.number),container:s.bool,children:s.func};var Ae=["tooltipOpen"];function He(e,r){if(e==null)return{};var i={},t=Object.keys(e),o,a;for(a=0;a<t.length;a++)o=t[a],!(r.indexOf(o)>=0)&&(i[o]=e[o]);return i}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},F.apply(this,arguments)}function we(e){var r=R.useState(F({tooltipOpen:!1},e)),i=r[0],t=r[1],o=R.useCallback(function(d){return t(typeof d=="function"?function(m){m.tooltipOpen;var h=He(m,Ae);return F({},d(h),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:d.tooltipLeft,tooltipTop:d.tooltipTop,tooltipData:d.tooltipData})},[t]),a=R.useCallback(function(){return t({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[t]);return{tooltipOpen:i.tooltipOpen,tooltipLeft:i.tooltipLeft,tooltipTop:i.tooltipTop,tooltipData:i.tooltipData,updateTooltip:t,showTooltip:o,hideTooltip:a}}var p=(e=>(e.Min="MIN",e.FirstQuartile="FIRST_QUARTILE",e.Median="MEDIAN",e.ThirdQuartile="THIRD_QUARTILE",e.Max="MAX",e))(p||{});const ve={box:"#705EE4",boxAlternative:"#CAC3F1",medianLine:"#2200F9",alternative:"#533FD1"},Xe={[p.Max]:"Max",[p.FirstQuartile]:"First Quartile",[p.Median]:"Median",[p.ThirdQuartile]:"Third Quartile",[p.Min]:"Min"},ze={[p.Max]:"max",[p.FirstQuartile]:"firstQuartile",[p.Median]:"median",[p.ThirdQuartile]:"thirdQuartile",[p.Min]:"min"},be=34,ge=10,Ge={fontSize:12,fontFamily:"Mulish",fontWeight:600,textAnchor:"middle"},Ue=30,X=6,z=`
    drop-shadow(0px 1px 3px rgba(33, 23, 95, 0.30))
    drop-shadow(0px 2px 5px rgba(33, 23, 95, 0.25))
    drop-shadow(0px -2px 5px rgba(33, 23, 95, 0.25))
`;function Y({x:e,y:r,minY:i,maxY:t,datum:o}){const a=R.useCallback(()=>{if(!o)return null;const m=Xe[o.type],h=o[ze[o.type]];return l.jsxs(l.Fragment,{children:[l.jsxs(se,{type:"span",color:"gray",children:[m,":Â "]}),l.jsx(se,{weight:"semiBold",color:"gray",type:"span",children:h})]})},[o]);if(r===void 0||e===void 0)return null;const d=o?.colorShemeSettings?.alternative??ve.alternative;return l.jsxs("svg",{children:[l.jsx("line",{y1:i,y2:r-X,x1:e,x2:e,strokeWidth:3,stroke:d,style:{filter:z,pointerEvents:"none"}}),l.jsx("line",{y1:r+X,y2:t,x1:e,x2:e,strokeWidth:3,stroke:d,style:{filter:z,pointerEvents:"none"}}),l.jsx(Se,{content:()=>a(),placement:"topLeft",align:{offset:[15,15]},open:!0,children:l.jsx("circle",{cx:e,cy:r,r:X,fill:"transparent",strokeWidth:2,stroke:d,style:{filter:z,pointerEvents:"none"}})})]})}try{Y.displayName="GlyphWithLineAndPopover",Y.__docgenInfo={description:"",displayName:"GlyphWithLineAndPopover",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},minY:{defaultValue:null,description:"",name:"minY",required:!1,type:{name:"number"}},maxY:{defaultValue:null,description:"",name:"maxY",required:!1,type:{name:"number"}},datum:{defaultValue:null,description:"",name:"datum",required:!1,type:{name:"WhiskerTooltipDatum"}}}}}catch{}const Ye=fe.rect`
    cursor: pointer;
`,ce=16;function q({pointX:e,topOfWhiskerBar:r,heightOfWhiskerBar:i,overHandler:t,leaveHandler:o}){return l.jsx(Ye,{x:e-ce/2,y:r,width:ce,height:i,fill:"transparent",onMouseOver:t,onMouseLeave:o})}try{q.displayName="MetricPoint",q.__docgenInfo={description:"",displayName:"MetricPoint",props:{pointX:{defaultValue:null,description:"",name:"pointX",required:!0,type:{name:"number"}},topOfWhiskerBar:{defaultValue:null,description:"",name:"topOfWhiskerBar",required:!0,type:{name:"number"}},heightOfWhiskerBar:{defaultValue:null,description:"",name:"heightOfWhiskerBar",required:!0,type:{name:"number"}},overHandler:{defaultValue:null,description:"",name:"overHandler",required:!0,type:{name:"() => void"}},leaveHandler:{defaultValue:null,description:"",name:"leaveHandler",required:!0,type:{name:"() => void"}}}}}catch{}function K({datum:e,tooltip:r,box:i,min:t,minToFirst:o,median:a,maxToThird:d,max:m}){const[h,L]=R.useState(!0),y=i.y1,v=i.y2,b=o.y1,k=i.x1,W=a.x1-k,f=a.x1,x=d.x2-f,P=`left-gradient-${e.key}`,S=`right-gradient-${e.key}`,g=e?.colorShemeSettings??ve,O=(j,u)=>{u===p.Median&&L(!1),r.showTooltip({tooltipData:{...e,type:u},tooltipLeft:j,tooltipTop:b})},c=j=>{j===p.Median&&L(!0),r.hideTooltip()};return l.jsxs(l.Fragment,{children:[l.jsx(de,{vertical:!1,id:P,from:g.box,to:g.boxAlternative}),l.jsx(de,{vertical:!1,id:S,from:g.boxAlternative,to:g.box}),l.jsx("line",{...o,strokeWidth:3,stroke:g.alternative}),l.jsx("line",{...t,strokeWidth:3,stroke:g.alternative}),l.jsx(q,{pointX:t.x1,topOfWhiskerBar:y,heightOfWhiskerBar:v,overHandler:()=>O(t.x1,p.Min),leaveHandler:()=>c(p.Min)}),l.jsx(pe,{radius:4,left:!0,x:k,y,width:W,height:v,fill:`url(#${P})`}),l.jsx(q,{pointX:k,topOfWhiskerBar:y,heightOfWhiskerBar:v,overHandler:()=>O(k,p.FirstQuartile),leaveHandler:()=>c(p.FirstQuartile)}),l.jsx(pe,{radius:4,right:!0,x:f,y,width:x,height:v,fill:`url(#${S})`}),l.jsx(q,{pointX:f+x,topOfWhiskerBar:y,heightOfWhiskerBar:v,overHandler:()=>O(f+x,p.ThirdQuartile),leaveHandler:()=>c(p.ThirdQuartile)}),h&&l.jsx("line",{...a,strokeWidth:3,stroke:g.medianLine,pointerEvents:"visiblePainted"}),l.jsx(q,{pointX:a.x1,topOfWhiskerBar:y,heightOfWhiskerBar:v,overHandler:()=>O(a.x1,p.Median),leaveHandler:()=>c(p.Median)}),l.jsx("line",{...d,strokeWidth:3,stroke:g.alternative}),l.jsx("line",{...m,strokeWidth:3,stroke:g.alternative}),l.jsx(q,{pointX:m.x1,topOfWhiskerBar:y,heightOfWhiskerBar:v,overHandler:()=>O(m.x1,p.Max),leaveHandler:()=>c(p.Max)})]})}try{K.displayName="WhiskerRenderer",K.__docgenInfo={description:"",displayName:"WhiskerRenderer",props:{valueRange:{defaultValue:null,description:"Output value range of the provided scale.",name:"valueRange",required:!0,type:{name:"[number, number] | number[]"}},center:{defaultValue:null,description:"Center (top if horizontal=true, else left) of single boxplot.",name:"center",required:!0,type:{name:"number"}},offset:{defaultValue:null,description:"Top offset if horizontal=true, else left offset.",name:"offset",required:!0,type:{name:"number"}},boxWidth:{defaultValue:null,description:"Specified width of BoxPlot",name:"boxWidth",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"Computed coordinates of the maximum line.",name:"max",required:!0,type:{name:"LineCoords"}},maxToThird:{defaultValue:null,description:"Computed coordinates of the line from maximum to third quartile.",name:"maxToThird",required:!0,type:{name:"LineCoords"}},median:{defaultValue:null,description:"Computed coordinates of the median line.",name:"median",required:!0,type:{name:"LineCoords"}},minToFirst:{defaultValue:null,description:"Computed coordinates of the line from first quartile to minimum.",name:"minToFirst",required:!0,type:{name:"LineCoords"}},min:{defaultValue:null,description:"Computed coordinates of the minimum line.",name:"min",required:!0,type:{name:"LineCoords"}},box:{defaultValue:null,description:"Computed coordinates of the boxplot box (i.e., not whiskers) rect.",name:"box",required:!0,type:{name:"LineCoords"}},container:{defaultValue:null,description:"Computed coordinates of the entire glyph container rect.",name:"container",required:!0,type:{name:"LineCoords"}},datum:{defaultValue:null,description:"",name:"datum",required:!0,type:{name:"WhiskerDatum"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!0,type:{name:"UseTooltipParams<WhiskerTooltipDatum>"}}}}}catch{}const D={boxSize:be,gap:ge,renderTooltip:e=>l.jsx(Y,{...e}),renderWhisker:e=>l.jsx(K,{...e})};function Ke(e,r,i,t,o){const a=e,d=a*i+(a-1)*o;return(t-d)/2+r*(i+o)}const Ze=fe.div`
    width: 100%;
    height: 100%;
    position: relative;
`;function Je({data:e,width:r,height:i,tooltip:t,boxSize:o=D.boxSize,gap:a=D.gap,axisLabel:d,renderTooltip:m=D.renderTooltip,renderWhisker:h=D.renderWhisker}){const y={left:10,top:0,right:10,bottom:20+(d!==void 0?Ue:0)},v=o??be,b=a??ge,k=0,W=i-y.bottom,f=y.left,x=r-y.right,P=W-k,S=x-f,g=R.useMemo(()=>e.map((u,M)=>({datum:u,offset:Ke(e.length,M,v,P,b)})),[e,P,v,b]),O=R.useMemo(()=>Math.min(...e.map(u=>u.min)),[e]),c=R.useMemo(()=>Math.max(...e.map(u=>u.max)),[e]),j=R.useMemo(()=>{const u=(c-O)*.05;return Re({range:[f,x],round:!0,domain:[O-u,c+u],nice:!0})},[f,x,O,c]);return l.jsxs("svg",{width:r,height:i,children:[l.jsx(xe,{scale:j,x:f,y1:W,y2:k,width:S,height:P,stroke:w.gray[100],numTicks:5}),g.map(({datum:u,offset:M})=>l.jsx(ye,{horizontal:!0,boxWidth:v,min:u.min,firstQuartile:u.firstQuartile,median:u.median,thirdQuartile:u.thirdQuartile,max:u.max,valueScale:j,top:M,children:h?V=>h({datum:u,tooltip:t,...V}):void 0},u.key)),l.jsx("line",{x1:0,x2:r,y1:W,y2:W,strokeWidth:1,stroke:w.gray[100]}),l.jsx($e,{scale:j,top:W,hideTicks:!0,hideAxisLine:!0,orientation:"bottom",numTicks:7,tickLabelProps:{fontSize:"10px",fontFamily:"Mulish",fill:w.gray[1700]},label:d,labelProps:Ge}),t.tooltipOpen&&m?.({x:t.tooltipLeft,y:t.tooltipTop,minY:k,maxY:W,datum:t.tooltipData})]})}function me(e){const r=we();return l.jsx(Ze,{children:l.jsx(Ve,{children:({width:i,height:t})=>l.jsx(Je,{...e,width:i,height:t,tooltip:r})})})}try{me.displayName="WhiskerChart",me.__docgenInfo={description:"",displayName:"WhiskerChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"WhiskerDatum[]"}},boxSize:{defaultValue:null,description:"",name:"boxSize",required:!1,type:{name:"number"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"number"}},axisLabel:{defaultValue:null,description:"",name:"axisLabel",required:!1,type:{name:"string"}},renderTooltip:{defaultValue:null,description:"",name:"renderTooltip",required:!1,type:{name:"((props: TooltipRendererProps) => ReactNode)"}},renderWhisker:{defaultValue:null,description:"",name:"renderWhisker",required:!1,type:{name:"((props: WhiskerRenderProps) => ReactNode)"}}}}}catch{}export{be as D,me as W,ge as a};
