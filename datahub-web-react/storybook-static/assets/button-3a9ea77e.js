import{_ as B}from"./extends-34e645d9.js";import{w as j,b as Oe,d as Re,e as ze,f as Le,u as Ae,s as $e,g as We,h as Be,i as je,C as G,c as me,a as f,L as le,j as De,S as Ge,D as Me,k as ue,l as Fe}from"./index-495e5f6b.js";import{u as Ue,o as Ve}from"./Compact-35a5bcb3.js";import{r as o,R as S}from"./index-f80c8c95.js";import{c as ve,i as He}from"./reactNode-f7e50cfa.js";import{t as M}from"./type-30d10e57.js";var qe=0,N={};function _(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=qe++,e=a;function t(){e-=1,e<=0?(n(),delete N[i]):N[i]=j(t)}return N[i]=j(t),i}_.cancel=function(a){a!==void 0&&(j.cancel(N[a]),delete N[a])};_.ids=N;var L;function fe(n){return!n||n.offsetParent===null||n.hidden}function Je(n){return n instanceof Document?n.body:Array.from(n.childNodes).find(function(a){return a?.nodeType===Node.ELEMENT_NODE})}function Ke(n){var a=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return a&&a[1]&&a[2]&&a[3]?!(a[1]===a[2]&&a[2]===a[3]):!0}var pe=function(n){Oe(i,n);var a=Re(i);function i(){var e;return ze(this,i),e=a.apply(this,arguments),e.containerRef=o.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,r){var s,c,l=e.props,g=l.insertExtraNode,v=l.disabled;if(!(v||!t||fe(t)||t.className.includes("-leave"))){e.extraNode=document.createElement("div");var d=Le(e),h=d.extraNode,C=e.context.getPrefixCls;h.className="".concat(C(""),"-click-animating-node");var P=e.getAttributeName();if(t.setAttribute(P,"true"),r&&r!=="#fff"&&r!=="#ffffff"&&r!=="rgb(255, 255, 255)"&&r!=="rgba(255, 255, 255, 1)"&&Ke(r)&&!/rgba\((?:\d*, ){3}0\)/.test(r)&&r!=="transparent"){h.style.borderColor=r;var m=((s=t.getRootNode)===null||s===void 0?void 0:s.call(t))||t.ownerDocument,b=(c=Je(m))!==null&&c!==void 0?c:m;L=Ae(`
      [`.concat(C(""),"-click-animating-without-extra-node='true']::after, .").concat(C(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(r,`;
      }`),"antd-wave",{csp:e.csp,attachTo:b})}g&&t.appendChild(h),["transition","animation"].forEach(function(E){t.addEventListener("".concat(E,"start"),e.onTransitionStart),t.addEventListener("".concat(E,"end"),e.onTransitionEnd)})}},e.onTransitionStart=function(t){if(!e.destroyed){var r=e.containerRef.current;!t||t.target!==r||e.animationStart||e.resetEffect(r)}},e.onTransitionEnd=function(t){!t||t.animationName!=="fadeEffect"||e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.includes("disabled"))){var r=function(c){if(!(c.target.tagName==="INPUT"||fe(c.target))){e.resetEffect(t);var l=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout(function(){return e.onClick(t,l)},0),_.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=_(function(){e.animationStart=!1},10)}};return t.addEventListener("click",r,!0),{cancel:function(){t.removeEventListener("click",r,!0)}}}},e.renderWave=function(t){var r=t.csp,s=e.props.children;if(e.csp=r,!o.isValidElement(s))return s;var c=e.containerRef;return $e(s)&&(c=We(s.ref,e.containerRef)),ve(s,{ref:c})},e}return Be(i,[{key:"componentDidMount",value:function(){this.destroyed=!1;var t=this.containerRef.current;!t||t.nodeType!==1||(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,r=this.props.insertExtraNode;return r?"".concat(t(""),"-click-animating"):"".concat(t(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var r=this;if(!(!t||t===this.extraNode||!(t instanceof Element))){var s=this.props.insertExtraNode,c=this.getAttributeName();t.setAttribute(c,"false"),L&&(L.innerHTML=""),s&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach(function(l){t.removeEventListener("".concat(l,"start"),r.onTransitionStart),t.removeEventListener("".concat(l,"end"),r.onTransitionEnd)})}}},{key:"render",value:function(){return o.createElement(je,null,this.renderWave)}}]),i}(o.Component);pe.contextType=G;const Qe=pe;var Xe=globalThis&&globalThis.__rest||function(n,a){var i={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(i[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(i[e[t]]=n[e[t]]);return i},ge=o.createContext(void 0),Ye=function(a){var i,e=o.useContext(G),t=e.getPrefixCls,r=e.direction,s=a.prefixCls,c=a.size,l=a.className,g=Xe(a,["prefixCls","size","className"]),v=t("btn-group",s),d="";switch(c){case"large":d="lg";break;case"small":d="sm";break}var h=me(v,(i={},f(i,"".concat(v,"-").concat(d),d),f(i,"".concat(v,"-rtl"),r==="rtl"),i),l);return o.createElement(ge.Provider,{value:c},o.createElement("div",B({},g,{className:h})))};const Ze=Ye;var A=function(){return{width:0,opacity:0,transform:"scale(0)"}},$=function(a){return{width:a.scrollWidth,opacity:1,transform:"scale(1)"}},et=function(a){var i=a.prefixCls,e=a.loading,t=a.existIcon,r=!!e;return t?S.createElement("span",{className:"".concat(i,"-loading-icon")},S.createElement(le,null)):S.createElement(De,{visible:r,motionName:"".concat(i,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:A,onAppearActive:$,onEnterStart:A,onEnterActive:$,onLeaveStart:$,onLeaveActive:A},function(s,c){var l=s.className,g=s.style;return S.createElement("span",{className:"".concat(i,"-loading-icon"),style:g,ref:c},S.createElement(le,{className:l}))})};const tt=et;var nt=globalThis&&globalThis.__rest||function(n,a){var i={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(i[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)a.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(i[e[t]]=n[e[t]]);return i},de=/^[\u4e00-\u9fa5]{2}$/,D=de.test.bind(de);function at(n){return typeof n=="string"}function W(n){return n==="text"||n==="link"}function rt(n,a){if(n!=null){var i=a?" ":"";return typeof n!="string"&&typeof n!="number"&&at(n.type)&&D(n.props.children)?ve(n,{children:n.props.children.split("").join(i)}):typeof n=="string"?D(n)?o.createElement("span",null,n.split("").join(i)):o.createElement("span",null,n):He(n)?o.createElement("span",null,n):n}}function it(n,a){var i=!1,e=[];return o.Children.forEach(n,function(t){var r=Fe(t),s=r==="string"||r==="number";if(i&&s){var c=e.length-1,l=e[c];e[c]="".concat(l).concat(t)}else e.push(t);i=s}),o.Children.map(e,function(t){return rt(t,a)})}M("default","primary","ghost","dashed","link","text");M("default","circle","round");M("submit","button","reset");function mt(n){return n==="danger"?{danger:!0}:{type:n}}var ot=function(a,i){var e,t=a.loading,r=t===void 0?!1:t,s=a.prefixCls,c=a.type,l=c===void 0?"default":c,g=a.danger,v=a.shape,d=v===void 0?"default":v,h=a.size,C=a.disabled,P=a.className,m=a.children,b=a.icon,E=a.ghost,he=E===void 0?!1:E,U=a.block,Ce=U===void 0?!1:U,V=a.htmlType,be=V===void 0?"button":V,H=nt(a,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),ye=o.useContext(Ge),xe=o.useContext(Me),I=C??xe,Ne=o.useContext(ge),Ee=o.useState(!!r),q=ue(Ee,2),y=q[0],J=q[1],Te=o.useState(!1),K=ue(Te,2),w=K[0],Q=K[1],O=o.useContext(G),Se=O.getPrefixCls,X=O.autoInsertSpaceInButton,Y=O.direction,x=i||o.createRef(),Z=function(){return o.Children.count(m)===1&&!b&&!W(l)},ke=function(){if(!(!x||!x.current||X===!1)){var k=x.current.textContent;Z()&&D(k)?w||Q(!0):w&&Q(!1)}},T=typeof r=="boolean"?r:r?.delay||!0;o.useEffect(function(){var p=null;return typeof T=="number"?p=window.setTimeout(function(){p=null,J(T)},T):J(T),function(){p&&(window.clearTimeout(p),p=null)}},[T]),o.useEffect(ke,[x]);var ee=function(k){var z=a.onClick;if(y||I){k.preventDefault();return}z?.(k)},u=Se("btn",s),te=X!==!1,ne=Ue(u,Y),_e=ne.compactSize,Pe=ne.compactItemClassnames,Ie={large:"lg",small:"sm",middle:void 0},ae=_e||Ne||h||ye,re=ae&&Ie[ae]||"",we=y?"loading":b,R=Ve(H,["navigate"]),ie=me(u,(e={},f(e,"".concat(u,"-").concat(d),d!=="default"&&d),f(e,"".concat(u,"-").concat(l),l),f(e,"".concat(u,"-").concat(re),re),f(e,"".concat(u,"-icon-only"),!m&&m!==0&&!!we),f(e,"".concat(u,"-background-ghost"),he&&!W(l)),f(e,"".concat(u,"-loading"),y),f(e,"".concat(u,"-two-chinese-chars"),w&&te&&!y),f(e,"".concat(u,"-block"),Ce),f(e,"".concat(u,"-dangerous"),!!g),f(e,"".concat(u,"-rtl"),Y==="rtl"),f(e,"".concat(u,"-disabled"),R.href!==void 0&&I),e),Pe,P),oe=b&&!y?b:o.createElement(tt,{existIcon:!!b,prefixCls:u,loading:!!y}),se=m||m===0?it(m,Z()&&te):null;if(R.href!==void 0)return o.createElement("a",B({},R,{className:ie,onClick:ee,ref:x}),oe,se);var ce=o.createElement("button",B({},H,{type:be,className:ie,onClick:ee,disabled:I,ref:x}),oe,se);return W(l)?ce:o.createElement(Qe,{disabled:!!y},ce)},F=o.forwardRef(ot);F.Group=Ze;F.__ANT_BUTTON=!0;const vt=F;export{vt as B,Qe as W,mt as c};
